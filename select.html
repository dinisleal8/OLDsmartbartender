<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Add CSS styles for the loading overlay */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .loading-indicator {
            border: 16px solid #f3f3f3;
            border-top: 16px solid #3498db;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <img class="closemodal-img" src="./Imgs/slider_select/1.png" onclick="openModal('./Imgs/slider_select/1.png', 'BEBIDA 1', 'maltinha bora ficar bue bebada', '/drink1/')" alt="Image 1">
        <img class="closemodal-img" src="./Imgs/slider_select/2.png" onclick="openModal('./Imgs/slider_select/2.png', 'Title 2', 'Description 2', '/drink2/')" alt="Image 2">
        <img class="closemodal-img" src="./Imgs/slider_select/3.png" onclick="openModal('./Imgs/slider_select/3.png', 'Title 3', 'Description 3', '/drink3/')" alt="Image 3">
    </div>
    <div class="container">
        <img class="closemodal-img" src="./Imgs/slider_select/1.png" onclick="openModal('./Imgs/slider_select/1.png', 'Title 1', 'Description 1', '/drink1/')" alt="Image 1">
        <img class="closemodal-img" src="./Imgs/slider_select/2.png" onclick="openModal('./Imgs/slider_select/2.png', 'Title 2', 'Description 2', '/drink2/')" alt="Image 2">
        <img class="closemodal-img" src="./Imgs/slider_select/3.png" onclick="openModal('./Imgs/slider_select/3.png', 'Title 3', 'Description 3', '/drink3/')" alt="Image 3">
    </div>
    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <img id="modalImage" src="" alt="">
            <div class="text-container">
                <h2 id="modalTitle"></h2>
                <p id="modalDescription"></p>
                <button class="botao-home" onclick="navigateTo()">Seguir</button>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-indicator"></div>
    </div>

    <script>
        function openModal(imageSrc, title, description, link) {
            var modal = document.getElementById("myModal");
            var modalImage = document.getElementById("modalImage");
            var modalTitle = document.getElementById("modalTitle");
            var modalDescription = document.getElementById("modalDescription");
            var loadingOverlay = document.getElementById("loadingOverlay");

            modal.style.display = "block";
            modalImage.src = imageSrc;
            modalTitle.textContent = title;
            modalDescription.textContent = description;

            document.querySelector(".botao-home").onclick = function () {
                // Show loading overlay
                loadingOverlay.style.display = "flex";

                // Simulate delay for demonstration purposes (you can replace this with actual loading logic)
                setTimeout(function () {
                    window.location.href = link;
                    closeModal();
                }, 2000);
            };
        }

        function closeModal() {
            var modal = document.getElementById("myModal");
            var loadingOverlay = document.getElementById("loadingOverlay");

            modal.style.animation = "zoom-out 0.6s";
            setTimeout(function () {
                modal.style.display = "none";
                modal.style.animation = "";
                loadingOverlay.style.display = "none"; // Hide loading overlay when modal is closed
            }, 600);
        }

        window.onclick = function (event) {
            var modal = document.getElementById("myModal");
            if (event.target == modal) {
                closeModal();
            }
        }

        function navigateTo() {
            // Function not needed, navigation is handled in the openModal function
        }
    </script>
</body>
</html>
